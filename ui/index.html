<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Roomie</title>
		<link rel="stylesheet" href="./style/style.css">
	</head>
	<body>

		<div id="menubar">
			<button onclick="newFile()">
				<img src="library/mono-icons/svg/document-empty.svg" alt="New" title="New (ctrl-n)">
			</button>
			<button onclick="openFile()">
				<img src="library/mono-icons/svg/folder.svg" alt="Open" title="Open (ctrl-o)">
			</button>
			<button onclick="saveFile()">
				<img src="library/mono-icons/svg/save.svg" alt="Save" title="Save (ctrl-s)">
			</button>
			<button onclick="saveAsFile()">
				<img src="library/mono-icons/svg/document-add.svg" alt="Save As" title="Save As (ctrl-shift-s)">
			</button>

			<span></span>

			<button onclick="undo()">
				<img src="library/mono-icons/svg/undo.svg" alt="Undo" title="Undo (ctrl-z)">
			</button>
			<button onclick="redo()">
				<img src="library/mono-icons/svg/refresh.svg" alt="Redo" title="Redo (ctrl-shift-z)">
			</button>

			<span></span>

			<button onclick="zoomIn()">
				<img src="library/mono-icons/svg/zoom-in.svg" alt="Zoom In" title="Zoom In (=)">
			</button>
			<button onclick="zoomOut()">
				<img src="library/mono-icons/svg/zoom-out.svg" alt="Zoom Out" title="Zoom Out (-)">
			</button>
			<button onclick="zoomReset()">
				<img src="library/mono-icons/svg/expand.svg" alt="Reset Zoom" title="Reset Zoom (0)">
			</button>

			<span></span>

			<button onclick="newRoom()">
				<img src="library/mono-icons/svg/add.svg" alt="New Room" title="New Room (r)">
			</button>
			<button onclick="newLink()">
				<img src="library/mono-icons/svg/link-alt.svg" alt="New Link" title="New Link (l)">
			</button>
			<button onclick="deleteSelection()">
				<img src="library/mono-icons/svg/delete.svg" alt="Delete" title="Delete (del)">
			</button>

			<span></span>

			<button id="guide-button" class="on" onclick="toggleGuide()">
				<img src="library/mono-icons/svg/circle-help.svg" alt="Toggle Guide" title="Toggle Guide">
			</button>

		</div>

		<div class="sidebar" id="metaroom-props">
			<div class="resize-handle"></div>
			<h2><span>Metaroom Properties</span></h2>
			<label>
				<span>Background</span>
				<button class="file-button" id="metaroom-background" onclick="changeMetaroomBackground()">
					<span id="metaroom-background-value">&mdash;</span>
					<img src="library/mono-icons/svg/folder.svg">
				</button>
			</label>
			<label>
				<span>Music</span>
				<button class="file-button" id="metaroom-music" onclick="changeMetaroomMusic()">
					<span id="metaroom-music-value">&mdash;</span>
					<img src="library/mono-icons/svg/folder.svg">
				</button>
			</label>
			<hr>
			<label>
				<span>X</span>
				<input id="metaroom-x" type="number" onchange="changeMetaroomX()">
			</label>
			<label>
				<span>Y</span>
				<input id="metaroom-y" type="number" onchange="changeMetaroomY()">
			</label>
			<label>
				<span>Width</span>
				<input id="metaroom-w" type="number" onchange="changeMetaroomW()">
			</label>
			<label>
				<span>Height</span>
				<input id="metaroom-h" type="number" onchange="changeMetaroomH()">
			</label>
			<hr>
			<button class="float-right icon-button" id="favicon-add" onclick="enableFavicon()">
				<img src="library/mono-icons/svg/add.svg" alt="Add Favorite Place Icon" title="Add Favorite Place Icon">
			</button>
			<button class="float-right icon-button hidden" id="favicon-remove" onclick="disableFavicon()">
				<img src="library/mono-icons/svg/delete.svg" alt="Remove Favorite Place Icon" title="Remove Favorite Place Icon">
			</button>
			<h3>Favorite Place Icon</h3>
			<label id="favicon-x-label" class="hidden">
				<span>X</span>
				<input id="favicon-x" type="number" onchange="changeFaviconX()">
			</label>
			<label id="favicon-y-label" class="hidden">
				<span>Y</span>
				<input id="favicon-y" type="number" onchange="changeFaviconY()">
			</label>
			<label id="favicon-sprite-label" class="hidden">
				<span>Sprite</span>
				<button class="file-button" id="favicon-sprite" onclick="changeFaviconSprite()">
					<span id="favicon-sprite-value">&mdash;</span>
					<img src="library/mono-icons/svg/folder.svg">
				</button>
			</label>
			<label id="favicon-classifier-label" class="hidden">
				<span>Classifier</span>
				<input id="favicon-classifier" type="number" onchange="changeFaviconClassifier()">
			</label>
		</div>

		<div class="sidebar hidden" id="room-props">
			<div class="resize-handle"></div>
			<h2><span>Room Properties</span></h2>
			<label>
				<span>Type</span>
				<select id="room-type" onchange="changeRoomType()">
					<option value="0">0 - Atmosphere</option>
					<option value="1">1 - Wooden Walkway</option>
					<option value="2">2 - Concrete Walkway</option>
					<option value="3">3 - Indoor Concrete</option>
					<option value="4">4 - Outdoor Concrete</option>
					<option value="5">5 - Normal Soil</option>
					<option value="6">6 - Boggy Soil</option>
					<option value="7">7 - Drained Soil</option>
					<option value="8">8 - Fresh Water</option>
					<option value="9">9 - Salt Water</option>
					<option value="10">10 - Ettin Home</option>
				</select>
				<div class="dropdown-arrow">
					<img src="library/mono-icons/svg/chevron-down.svg">
				</div>
			</label>
			<label>
				<span>Music</span>
				<button class="file-button" id="room-music" onclick="changeRoomMusic()">
					<span id="room-music-value">&mdash;</span>
					<img src="library/mono-icons/svg/folder.svg">
				</button>
			</label>
			<hr>
			<label>
				<span>X Left</span>
				<input id="room-x-left" type="number" onchange="changeRoomXL()">
			</label>
			<label>
				<span>X Right</span>
				<input id="room-x-right" type="number" onchange="changeRoomXR()">
			</label>
			<br>
			<label>
				<span>Y Top Left</span>
				<input id="room-y-top-left" type="number" onchange="changeRoomYTL()">
			</label>
			<label>
				<span>Y Top Right</span>
				<input id="room-y-top-right" type="number" onchange="changeRoomYTR()">
			</label>
			<label>
				<span>Top Slope</span>
				<input id="room-top-slope" disabled>
			</label>
			<br>
			<label>
				<span>Y Bottom Left</span>
				<input id="room-y-bottom-left" type="number" onchange="changeRoomYBL()">
			</label>
			<label>
				<span>Y Bottom Right</span>
				<input id="room-y-bottom-right" type="number" onchange="changeRoomYBR()">
			</label>
			<label>
				<span>Bottom Slope</span>
				<input id="room-bottom-slope" disabled>
			</label>
			<hr>
			<button class="float-right icon-button" onclick="addSmell()">
				<img src="library/mono-icons/svg/add.svg" alt="Add Smell" title="Add Smell">
			</button>
			<h3>Smell Emitter</h3>
			<div id="smell-list"></div>
			<label>
				<span>Emitter classifier</span>
				<input id="room-emitter-classifier" type="number" onchange="changeEmitterClassifier()">
			</label>
		</div>

		<div class="sidebar hidden" id="door-props">
			<div class="resize-handle"></div>
			<h2><span>Door Properties</span></h2>
			<label>
				<span>Permeability</span>
				<input id="door-permeability" type="number" onchange="changeDoorPermeability()">
			</label>
		</div>

		<div class="sidebar hidden" id="link-props">
			<div class="resize-handle"></div>
			<h2><span>Link Properties</span></h2>
		</div>

		<div class="hidden" id="shortcut-guide">
			<span class="shortcut-header">create:</span>
			<span>r - room</span>
			<span>e - extrude</span>
			<span>d - duplicate</span>
			<span>l - link</span>
			<br><br>
			<span class="shortcut-header">modify:</span>
			<span>shift - ortho move</span>
			<span>ctrl - no snap</span>
			<span>del - delete</span>
			<br><br>
			<span class="shortcut-header">view:</span>
			<span>ctrl+scroll - zoom</span>
			<span>space / arrows - pan</span>
			<br>
			<span class="shortcut-header"></span>
			<span>ctrl+t - room type colors</span>
			<span>ctrl+[ ] - bg opacity</span>
		</div>

		<main><!-- p5 sketch goes here --></main>

		<script src="./library/p5.min.js"></script>
		<script src="./library/polybool.min.js"></script>

		<script src="./script/main.js"></script>
		<script src="./script/keyboard.js"></script>
		<script src="./script/mouse.js"></script>
		<script src="./script/commands.js"></script>
		<script src="./script/ui.js"></script>
		<script src="./script/metaroom.js"></script>
		<script src="./script/favicon.js"></script>
		<script src="./script/room.js"></script>
		<script src="./script/door.js"></script>
		<script src="./script/smell.js"></script>
		<script src="./script/link.js"></script>
		<script src="./script/geometry.js"></script>
		<script src="./script/caos.js"></script>

	</body>
</html>
